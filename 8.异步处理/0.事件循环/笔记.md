##回顾事件循环
* js运行的执行环境称之为宿主环境
* 执行栈：call stack (先进后出) 用于存放各种函数的执行结构,函数执行之前创建上下文,执行之后销毁上下文。
* js引擎永远执行的是执行栈的最顶部
  
* 异步函数的执行时机会被宿主环境控制
* 浏览器渲染进程（浏览器内核）（Renderer（渲染器），内部是多线程的）：默认每个Tab页面一个进程，互不影响。主要作用 ：页面渲染，脚本执行，事件处理等
   * 浏览器渲染进程包含5个常驻线程  
      1. Js引擎：负责执行栈的最顶部代码(js是但单线程的因为只有一个js引擎)
      2. GUI线程：赋值渲染页面
      3. 事件监听线程：监听各种事件
      4. 定时器触发线程：传说中的setInterval与setTimeout所在线程
      5. 异步http请求线程：负责网络通信 
* 事件循环：当浏览器发现有事件,定时器,异步请求,会将函数放在事件队列里，当Js引擎没有任何执行内容时，会将事件队列微任务中的所有任务依次结束，如果没有微任务，则执行宏任务
* 事件队列分为两个队列：
   1. 宏任务(队列)：计时器回调，事件回调,异步http请求回调
   2. 微任务(队列)：promise产生的回调进入微队列，MutationObserver。
* MutationObserver:用于监听某个DOM对象的变化(属性变化,子元素变化，子树的变化)

      